<!DOCTYPE html>
<html lang="en">
<head>
<!-- Jun 16, 2022 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Practise on Golang</title>
<meta name="author" content="Frank Zhao" />
<meta name="generator" content="Org Mode" />
<link rel='icon' type='image/x-icon' href='/images/favicon.ico'/>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<link rel='stylesheet' href='https://code.cdn.mozilla.net/fonts/fira.css'>
<link rel='stylesheet' href='/css/site.css?v=2' type='text/css'/>
<link rel='stylesheet' href='/css/custom.css' type='text/css'/>
<link rel='stylesheet' href='/css/syntax-coloring.css' type='text/css'/>
<script>
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&amp;dn=gpl-3.0.txt GPL-v3-or-Later
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
// @license-end
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="../"> UP </a>
 |
 <a accesskey="H" href="/"> HOME </a>
</div><header id="top" class="status">
<div class="intro">
  <img
    src="/images/Lisplogo_alien_256.png"
    alt="Land of Lisp"
    class="no-border"
  />
  <h1>
    <span class="gray">Zhao</span>
    <span class="black">Wei</span>
  </h1>
  <p>
    How can man die better than facing fearful odds, for the ashes of his
    fathers and the temples of his Gods? -- By Horatius.
  </p>
</div>

<div class="nav">
  <ul>
    <li><a href="/">Posts</a>.</li>
    <li><a href="/about/">About</a>.</li>
  </ul>
</div>
</header>
<main id="content" class="content">
<header>
<h1 class="title">Practise on Golang</h1>
</header><nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgbb72793">1. Introduction</a></li>
<li><a href="#orgaeaf6a4">2. Prepare develoment environment</a>
<ul>
<li><a href="#org3940960">2.1. Install Go</a></li>
<li><a href="#orgbcc4cbc">2.2. (optional) Set Go proxy for development in China</a></li>
<li><a href="#orgcf0afab">2.3. Setup project</a></li>
<li><a href="#orge5132e6">2.4. About Golang SDK</a>
<ul>
<li><a href="#orga555171">2.4.1. The Go AWS SDK convention</a></li>
<li><a href="#org2b36be2">2.4.2. Unit test with AWS SDK</a></li>
</ul>
</li>
<li><a href="#orga3a7f10">2.5. References</a></li>
</ul>
</li>
<li><a href="#org8d199a0">3. The practise from code</a>
<ul>
<li><a href="#orga3a6dbb">3.1. How to get project&rsquo;s root from .git?</a></li>
<li><a href="#org86bf894">3.2. How to execute external program?</a>
<ul>
<li><a href="#org984f448">3.2.1. Prepare the cmd to execute</a></li>
<li><a href="#org5cd736f">3.2.2. Execute exec result in real-time</a></li>
</ul>
</li>
<li><a href="#orga000a33">3.3. Process JSON</a>
<ul>
<li><a href="#orge062b99">3.3.1. Encod JSON to bytes</a></li>
<li><a href="#orgf461c10">3.3.2. Decode byte to JSON object</a></li>
<li><a href="#org026ae4e">3.3.3. Reference</a></li>
</ul>
</li>
<li><a href="#org8b9c7a1">3.4. How to do something related with time</a>
<ul>
<li><a href="#orgec899d0">3.4.1. How to convert from Unix timestamp to time.Time</a></li>
<li><a href="#org462eeae">3.4.2. How to convert from time.Time to Unix timestamp</a></li>
<li><a href="#org939a334">3.4.3. How to format time</a></li>
<li><a href="#org6ac4617">3.4.4. How to parse a string to time.Time</a></li>
<li><a href="#orgc27ba6b">3.4.5. How to format time</a></li>
<li><a href="#org8761550">3.4.6. How to set duration</a></li>
<li><a href="#orgcd08a86">3.4.7. How to postpone execution</a></li>
<li><a href="#org97af843">3.4.8. How to repeated do something with time.Duration</a></li>
</ul>
</li>
<li><a href="#org561814e">3.5. How to loop each attribute of struct</a></li>
<li><a href="#org1909b05">3.6. How to build command-line tools</a></li>
<li><a href="#org5c55795">3.7. How to write unit test</a></li>
</ul>
</li>
<li><a href="#org0967dff">4. Understand Reader and Writer interface</a>
<ul>
<li><a href="#orgea17a27">4.1. Understand interface</a></li>
<li><a href="#orgc322720">4.2. Io.Reader</a></li>
<li><a href="#orgf23accb">4.3. Io.Writer</a></li>
<li><a href="#orgc1c819b">4.4. Use pipe to switch from Writer to Reader</a></li>
<li><a href="#org330b429">4.5. An implementation of <code>io.Reader</code> which filters out non-alphabetic characters from its stream.</a></li>
<li><a href="#orgf6fb81a">4.6. References</a></li>
</ul>
</li>
<li><a href="#org8596ae1">5. Build code into executable binary file</a></li>
<li><a href="#org7f417aa">6. Concurrency in Go</a>
<ul>
<li><a href="#org8a4bfe5">6.1. How to receive signal from event, such as Ctr-C</a></li>
<li><a href="#orgb745c8f">6.2. From master spawn workers and cancel them when needed</a></li>
</ul>
</li>
<li><a href="#org53e502b">7. Summary</a></li>
</ul>
</div>
</nav>

<section id="outline-container-orgbb72793" class="outline-2">
<h2 id="orgbb72793"><span class="section-number-2">1.</span> Introduction</h2>
<div class="outline-text-2" id="text-1">
<p>
This doc records down my practise on Golang from work. It includes the problems I met when I swtiched to Golang as a 3 years experienced developer.<br>
</p>
</div>
</section>

<section id="outline-container-orgaeaf6a4" class="outline-2">
<h2 id="orgaeaf6a4"><span class="section-number-2">2.</span> Prepare develoment environment</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org3940960" class="outline-3">
<h3 id="org3940960"><span class="section-number-3">2.1.</span> Install Go</h3>
<div class="outline-text-3" id="text-2-1">
<ol class="org-ol">
<li><p>
Update ubuntu<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">sudo apt-get -y update
</pre>
</div>
<ul class="org-ul">
<li><p>
Troubleshooting: invliad PPA error<br>
</p>
<ul class="org-ul">
<li>In my case it is something related with &ldquo;yarn&rdquo;.<br></li>
<li>So delete that PPA. see: <a href="https://itsfoss.com/how-to-remove-or-delete-ppas-quick-tip/">How to Remove or Delete PPA in Ubuntu Linux</a><br></li>
</ul>
<div class="org-src-container">
<pre class="src src-sh">ls /etc/apt/sources.list.d
sudo rm -i /etc/apt/sources.list.d/yarn.list
sudo rm -i /etc/apt/sources.list.d/yarn.list.save
</pre>
</div></li>
</ul></li>
<li>Download go install package<br>
<ul class="org-ul">
<li>Go to the <a href="https://golang.org/dl/">download</a> page and download the binary release suitable for your system.<br></li>
<li><p>
Extract the archive file<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">sudo tar -C /usr/local -xzf go1.16.6.linux-amd64.tar.gz
</pre>
</div></li>
<li><p>
Make sure <code>go/bin</code> is in PATH<br>
</p>
<div class="org-src-container">
<pre class="src src-sh"><span class="org-builtin">export</span> <span class="org-variable-name">PATH</span>=$<span class="org-variable-name">PATH</span>:/usr/local/go/bin
</pre>
</div></li>
<li><p>
Check installed go version and its env<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">go version
go env
</pre>
</div></li>
</ul></li>
</ol>
</div>
</div>
<div id="outline-container-orgbcc4cbc" class="outline-3">
<h3 id="orgbcc4cbc"><span class="section-number-3">2.2.</span> (optional) Set Go proxy for development in China</h3>
<div class="outline-text-3" id="text-2-2">
<ol class="org-ol">
<li>What is Go proxy?<br>
<ul class="org-ul">
<li>See <a href="https://jfrog.com/blog/why-goproxy-matters-and-which-to-pick/">https://jfrog.com/blog/why-goproxy-matters-and-which-to-pick/</a><br></li>
</ul></li>
<li><p>
Set proxy according to your location<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">go env -w <span class="org-variable-name">GOPROXY</span>=https://mirrors.aliyun.com/goproxy/,direct
<span class="org-comment-delimiter"># </span><span class="org-comment">Or other proxy</span>
go env -w <span class="org-variable-name">GOPROXY</span>=https://goproxy.io/zh/,direct
</pre>
</div></li>
<li><p>
Test proxy setting works<br>
</p>
<div class="org-src-container">
<pre class="src src-sh"><span class="org-keyword">time</span> go get golang.org/x/tour
</pre>
</div></li>
<li><p>
To unset proxy<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">go env -u GOPROXY

<span class="org-comment-delimiter"># </span><span class="org-comment">Now it should show default one: </span>
go env | grep proxy
<span class="org-comment-delimiter"># </span><span class="org-comment">GOPROXY="https://proxy.golang.org,direct"</span>
</pre>
</div></li>
</ol>
</div>
</div>

<div id="outline-container-orgcf0afab" class="outline-3">
<h3 id="orgcf0afab"><span class="section-number-3">2.3.</span> Setup project</h3>
<div class="outline-text-3" id="text-2-3">
<ol class="org-ol">
<li>Create folder -tester<br></li>
<li><p>
Cd into <code>-tester</code>, then initialize the project as go module<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">go mod init loadtest

go get -u github.com/aws/aws-sdk-go/...
</pre>
</div></li>
<li><p>
Test aws configuration(<code>~/.aws/config</code>) since this work is related with using AWS SDK.<br>
</p>
<div class="org-src-container">
<pre class="src src-go">package main

import (
  "fmt"
  "github.com/aws/aws-sdk-go/aws"
  "github.com/aws/aws-sdk-go/aws/session"
)

func main() {
  sess, err := session.NewSession(&amp;aws.Config{
    Region: aws.String("us-east-1")},
  )

  if err != nil {
    fmt.Println("session error:", err)
  }

  fmt.Printf("using session: %v\n", sess)
}
</pre>
</div></li>
<li>Then, <code>go run main.go</code> to see if it works.<br></li>
<li><p>
We will implement different packages(<code>.go</code> and <code>*_test.go</code> in one folder) under this <code>loadtest</code> module(the whole code repository). In one package, we use other packages like:<br>
</p>
<div class="org-src-container">
<pre class="src src-go">package main

import (
  "fmt"
  "loadtest/aws"
  "loadtest/cmd"
  "loadtest/tools"
    ...
)
</pre>
</div>
<p>
Notice: you could not import main package into other package. So, keep main package simple.<br>
</p></li>
</ol>
</div>
</div>

<div id="outline-container-orge5132e6" class="outline-3">
<h3 id="orge5132e6"><span class="section-number-3">2.4.</span> About Golang SDK</h3>
<div class="outline-text-3" id="text-2-4">
</div>
<div id="outline-container-orga555171" class="outline-4">
<h4 id="orga555171"><span class="section-number-4">2.4.1.</span> The Go AWS SDK convention</h4>
<div class="outline-text-4" id="text-2-4-1">
<ul class="org-ul">
<li>In AWS Go SDK document, it uses a lot of pointers. And Go SDK provides helper functions which do the convertion between values to pointers and pointers to values. See: <a href="https://docs.aws.amazon.com/sdk-for-go/api/aws/">Value and Pointer Conversion Utilities</a>.<br></li>
<li><p>
Examples<br>
</p>
<div class="org-src-container">
<pre class="src src-go">var strPtr *string

// Without the SDK's conversion functions
str := "my string"
strPtr = &amp;str

// With the SDK's conversion functions
strPtr = aws.String("my string")

// Convert *string to string value
str = aws.StringValue(strPtr)

var strPtrs []*string
var strs []string = []string{"Go", "Gophers", "Go"}

// Convert []string to []*string
strPtrs = aws.StringSlice(strs)

// Convert []*string to []string
strs = aws.StringValueSlice(strPtrs)
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org2b36be2" class="outline-4">
<h4 id="org2b36be2"><span class="section-number-4">2.4.2.</span> Unit test with AWS SDK</h4>
<div class="outline-text-4" id="text-2-4-2">
<ul class="org-ul">
<li>In Golang we use interface to decouple the dependencies of component. From AWS SDK, it provides a lot of useful interfaces for us to use.<br></li>
<li>Then, We just use those interface instead of concrete type in our struct. So later, we could mock API easily.<br></li>
</ul>
</div>
</div>
</div>


<div id="outline-container-orga3a7f10" class="outline-3">
<h3 id="orga3a7f10"><span class="section-number-3">2.5.</span> References</h3>
<div class="outline-text-3" id="text-2-5">
<ul class="org-ul">
<li><a href="https://blog.golang.org/using-go-modules#:~:text=A%20module%20is%20a%20collection,needed%20for%20a%20successful%20build.">Using Go modules</a><br></li>
<li><a href="https://docs.aws.amazon.com/sdk-for-go/v1/developer-guide/setting-up.html">Getting Started with the AWS SDK for Go</a><br></li>
<li><a href="https://docs.aws.amazon.com/sdk-for-go/v1/developer-guide/common-examples.html">AWS SDK for Go Code Examples</a><br></li>
<li><a href="https://docs.aws.amazon.com/sdk-for-go/api/">AWS SDK for Go API Reference</a>        <br></li>
<li><a href="https://aws.amazon.com/blogs/developer/mocking-out-then-aws-sdk-for-go-for-unit-testing/">Mocking Out the AWS SDK for Go for Unit Testing</a><br></li>
</ul>
</div>
</div>
</section>


<section id="outline-container-org8d199a0" class="outline-2">
<h2 id="org8d199a0"><span class="section-number-2">3.</span> The practise from code</h2>
<div class="outline-text-2" id="text-3">
<p>
The Golang code I am writing is a loadtest script:<br>
</p>
<ul class="org-ul">
<li>It utilizes existing external code, a javascript script tester which does end-to-end test.<br></li>
<li>It launches multiple instance of such testers.<br></li>
<li>It parses the stdout and stderr from each execution of E2E test.<br></li>
<li>It should monitor the execution status of loadtest, such as how many launched, executing, finished.<br></li>
<li>It should cancel all remaining tester from ctrl-C.<br></li>
</ul>

<p>
Basically it is a stander master-worker structure. This section records down the problems I met and Googled.<br>
</p>
</div>


<div id="outline-container-orga3a6dbb" class="outline-3">
<h3 id="orga3a6dbb"><span class="section-number-3">3.1.</span> How to get project&rsquo;s root from .git?</h3>
<div class="outline-text-3" id="text-3-1">
<div class="org-src-container">
<pre class="src src-go">import "os/exec"

func getCurrentProjectRoot() (string, error) {
  cmdOut, err := exec.Command("git", "rev-parse", "--show-toplevel").Output()
  if err != nil {
    return "", errors.New("you are not in a project")
  }

  return strings.TrimSpace(string(cmdOut)), nil
}
</pre>
</div>
</div>
</div>

<div id="outline-container-org86bf894" class="outline-3">
<h3 id="org86bf894"><span class="section-number-3">3.2.</span> How to execute external program?</h3>
<div class="outline-text-3" id="text-3-2">
</div>
<div id="outline-container-org984f448" class="outline-4">
<h4 id="org984f448"><span class="section-number-4">3.2.1.</span> Prepare the cmd to execute</h4>
<div class="outline-text-4" id="text-3-2-1">
<div class="org-src-container">
<pre class="src src-go">import "os/exec"

func PrepareTester(workerVersion, jsonFile string) *exec.Cmd {
  rootPath, err := getCurrentProjectRoot()
  if err != nil {
    panic(err)
  }

  // cmd used on command-line: node index.js -j input_clouddash_dev.json -w Worker.3100 -m C -p zeus
  app := "node"
  arg0 := "index.js"
    ...

  cmd := exec.Command(app, arg0, arg1, arg2, arg3, arg4, arg5, arg6, arg7, arg8)
  cmd.Dir = rootPath + "/code"

  return cmd
}
</pre>
</div>
</div>
</div>
<div id="outline-container-org5cd736f" class="outline-4">
<h4 id="org5cd736f"><span class="section-number-4">3.2.2.</span> Execute exec result in real-time</h4>
<div class="outline-text-4" id="text-3-2-2">
<p>
In this work, the tester&rsquo;s execution will take for a while, and it is neccessary to view the complete output on the terminal while saving its output into files.<br>
</p>
<ul class="org-ul">
<li>We need to save output from stderr into a file.<br></li>
<li>We need to combine stdout and stderr to save it together into a file while displaying it on console.<br></li>
<li>Because there are two data streams: stderr, and stderr + stdout. We use two goroutine to handle them.<br></li>
<li>We start exec, wait it&rsquo;s done.<br></li>
</ul>

<p>
Code does write stderr, stdout into files<br>
</p>
<div class="org-src-container">
<pre class="src src-go">cmd := cmd.PrepareTester(workerVersion, jsonFile)
cmdStdout := make(chan string, 10)

outf, _ := os.Create(filepath.Join(logFolder, fmt.Sprintf("%v-out.txt", id)))
errf, _ := os.Create(filepath.Join(logFolder, fmt.Sprintf("%v-err.txt", id)))
defer outf.Close()
defer errf.Close()

var wg sync.WaitGroup
wg.Add(1)

// write exec's stdout into stdout file 
go func() {
    readAndWriteToFiles(stdoutIn, cmdStdout, []*os.File{outf})
    wg.Done()
}()
wg.Add(1)

// write exec's stderr into stderr file as well as into stdout file.
go func() {
    readAndWriteToFiles(stderrIn, cmdStdout, []*os.File{outf, errf})
    wg.Done()
}()
wg.Wait()
cmd.Wait()
</pre>
</div>
<ul class="org-ul">
<li>We also write both stderr and stdout into a channel, then we could read from that channel and do further process for exec&rsquo;s output. For example, print out on console or save them for further process.<br></li>
<li><p>
A helper function: read from io.Reader and write them to os.File and to chan string<br>
</p>
<div class="org-src-container">
<pre class="src src-go">func readAndWriteToFiles(r io.Reader, ch chan&lt;- string, fs []*os.File) {
  buf := make([]byte, 512)
  for {
    n, err := r.Read(buf[:])
    if n &gt; 0 {
      d := buf[:n]

      for _, f := range fs {
	f.Write(d)
      }
      ch &lt;- string(d)
    }
    if err != nil {
      if err == io.EOF {
	break
      }
    }
  }
}
</pre>
</div></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orga000a33" class="outline-3">
<h3 id="orga000a33"><span class="section-number-3">3.3.</span> Process JSON</h3>
<div class="outline-text-3" id="text-3-3">
<p>
I would say the only downside of using comparing with Javascript is it is not very convenient to process JSON. In Golang, JSON object is represent as a combination of <code>map[string]interfaces{}</code> and <code>[]interface{}</code>.<br>
</p>
</div>
<div id="outline-container-orge062b99" class="outline-4">
<h4 id="orge062b99"><span class="section-number-4">3.3.1.</span> Encod JSON to bytes</h4>
<div class="outline-text-4" id="text-3-3-1">
<ul class="org-ul">
<li><p>
For example, Golang&rsquo;s <code>net/http</code> module needs the body of http to be bytes, so we need to encode JSON object into bytes.<br>
</p>
<div class="org-src-container">
<pre class="src src-go">client := &amp;http.Client{
    Timeout: time.Millisecond * 2500,
}

contract := map[string]interface{}{
    "workerInfo": map[string]string{"workerVersion": workerVersion},
    "userInfo":   map[string]string{"userId": userId},
    "clientInfo": map[string]string{"clientId": "-tester", "clientVersion": "1.3.4"},
}
body := map[string]interface{}{
    "Contract": contract,
}
reqBody, _ := json.Marshal(body)

req, _ := http.NewRequest("POST", url+"/init", bytes.NewBuffer(reqBody))
req.Header.Set("Content-Type", "application/json")
req.Header.Set("x-ams-apiKey", apiKey)

resp, err := client.Do(req)
if err != nil {
    log.Println(err)
    return sessionResult, false
}

defer resp.Body.Close()
</pre>
</div>
<ul class="org-ul">
<li>First <code>json.Marshal</code>, then <code>bytes.NewBuffer</code>.<br></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgf461c10" class="outline-4">
<h4 id="orgf461c10"><span class="section-number-4">3.3.2.</span> Decode byte to JSON object</h4>
<div class="outline-text-4" id="text-3-3-2">
<ul class="org-ul">
<li><p>
For example, the response we got from http post contain the<br>
</p>
<div class="org-src-container">
<pre class="src src-go">type InitSessionResult struct {
  SessionId string
  Expiry         int64 // in Millisecond
  ExpiryTime     time.Time
}

resBody, err := ioutil.ReadAll(resp.Body)
if err != nil {
    panic(err)
}
fmt.Println("InitSessionId response Status:", resp.Status)

var sessionResult InitSessionResult
err = json.Unmarshal(resBody, &amp;sessionResult)

if err == nil {
    sessionResult.ExpiryTime = time.Unix(sessionResult.Expiry/1000, 0)
}
</pre>
</div>
<ul class="org-ul">
<li>If we know the JSON response structure from which we will parse, it becomes easy: we just <code>json.Unmarshal</code> it. And it will fill our struct autmatically based some rules (see <code>encoding/json</code> for detail).<br></li>
</ul></li>
<li>For cases where we don&rsquo;t know the JSON response structure. (TODO)<br></li>
</ul>
</div>
</div>

<div id="outline-container-org026ae4e" class="outline-4">
<h4 id="org026ae4e"><span class="section-number-4">3.3.3.</span> Reference</h4>
<div class="outline-text-4" id="text-3-3-3">
<ul class="org-ul">
<li>ref: <a href="https://blog.golang.org/json">The Go Blog: JSON and Go</a><br></li>
<li>ref: <a href="https://gobyexample.com/json">Go by example: JSON</a>    <br></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org8b9c7a1" class="outline-3">
<h3 id="org8b9c7a1"><span class="section-number-3">3.4.</span> How to do something related with time</h3>
<div class="outline-text-3" id="text-3-4">
</div>
<div id="outline-container-orgec899d0" class="outline-4">
<h4 id="orgec899d0"><span class="section-number-4">3.4.1.</span> How to convert from Unix timestamp to time.Time</h4>
<div class="outline-text-4" id="text-3-4-1">
<div class="org-src-container">
<pre class="src src-go">// Here, the timestamp I got is Millisecond
time.Unix(*r.Timestamp/1000, 0)
</pre>
</div>
<ul class="org-ul">
<li><code>func Unix(sec int64, nsec int64) Time</code><br></li>
</ul>
</div>
</div>
<div id="outline-container-org462eeae" class="outline-4">
<h4 id="org462eeae"><span class="section-number-4">3.4.2.</span> How to convert from time.Time to Unix timestamp</h4>
<div class="outline-text-4" id="text-3-4-2">
<ul class="org-ul">
<li><code>func (t Time) Unix() int64</code>, the number of second<br></li>
<li><code>func (Time) UnixMilli</code>, the number of milliseconds elapsed since January 1, 1970 UTC<br></li>
<li><code>func (Time) UnixNano</code><br></li>
</ul>
</div>
</div>

<div id="outline-container-org939a334" class="outline-4">
<h4 id="org939a334"><span class="section-number-4">3.4.3.</span> How to format time</h4>
<div class="outline-text-4" id="text-3-4-3">
<div class="org-src-container">
<pre class="src src-go">func fromTimeToStr(t time.Time, format string, asUTC bool) string {
  if asUTC {
    return fmt.Sprintf("%v", t.In(time.UTC).Format(format))
  } else {
    return fmt.Sprintf("%v", t.In(time.Local).Format(format))
  }
}
</pre>
</div>
<ul class="org-ul">
<li>Where, the format is something like: &ldquo;2006-01-02 15:04:05.99-0700&rdquo; called layout.<br></li>
<li>See <a href="https://pkg.go.dev/time#pkg-constants">Constants defined in time package</a><br></li>
</ul>
</div>
</div>

<div id="outline-container-org6ac4617" class="outline-4">
<h4 id="org6ac4617"><span class="section-number-4">3.4.4.</span> How to parse a string to time.Time</h4>
<div class="outline-text-4" id="text-3-4-4">
<ul class="org-ul">
<li><p>
<code>func Parse(layout, value string) (Time, error)</code><br>
</p>
<div class="org-src-container">
<pre class="src src-go">startAt, err := time.Parse("2006-01-02 15:04", startStr)
if err != nil {
    log.Fatal("time format is not correct, exit...")
}
</pre>
</div></li>
<li><code>func ParseInLocation(layout, value string, loc *Location) (Time, error)</code><br></li>
</ul>
</div>
</div>

<div id="outline-container-orgc27ba6b" class="outline-4">
<h4 id="orgc27ba6b"><span class="section-number-4">3.4.5.</span> How to format time</h4>
<div class="outline-text-4" id="text-3-4-5">
<div class="org-src-container">
<pre class="src src-go">func formatTime(t time.Time) string {
    // setUTC is a global variable control whether we want is a time relative to UTC
  return fromTimeToStr(t, "2006-01-02 15:04:05.99-0700", setUTC)
}

func fromTimeToStr(t time.Time, format string, asUTC bool) string {
  if asUTC {
    return fmt.Sprintf("%v", t.In(time.UTC).Format(format))
  } else {
    return fmt.Sprintf("%v", t.In(time.Local).Format(format))
  }
}
</pre>
</div>
</div>
</div>
<div id="outline-container-org8761550" class="outline-4">
<h4 id="org8761550"><span class="section-number-4">3.4.6.</span> How to set duration</h4>
<div class="outline-text-4" id="text-3-4-6">
<ol class="org-ol">
<li><p>
Set time duration for specific number, such as 30 seconds<br>
</p>
<div class="org-src-container">
<pre class="src src-go">var testerNoResponseLimit time.Duration = 30 * time.Second
</pre>
</div></li>
<li><p>
Set time duration between one timestamp<br>
</p>
<div class="org-src-container">
<pre class="src src-go">begin := time.Now()
// ...do something
time.Since(begin)
</pre>
</div></li>
<li><p>
Set time duration between two timestamp using <code>Sub</code><br>
</p>
<div class="org-src-container">
<pre class="src src-go">// use latest time - a timestamp set before
time.Now().Sub(startAt)
</pre>
</div></li>
<li><p>
From a time at one side of duration to get another time.<br>
</p>
<div class="org-src-container">
<pre class="src src-go">fiveMinsAgo := time.Now().Add(-5 * time.Minute)
</pre>
</div></li>
<li><p>
How to multiple duration by integer?<br>
Usually we got a variable as a number and we want to multiple it by unit of duration, such as seconds or mins. For a variable as number, we need to convert it to time.Duration explicitly.<br>
</p>
<div class="org-src-container">
<pre class="src src-go">start := time.Now().Add(-time.Duration(parsedInteger) * time.Minute)
</pre>
</div></li>
</ol>
</div>
</div>

<div id="outline-container-orgcd08a86" class="outline-4">
<h4 id="orgcd08a86"><span class="section-number-4">3.4.7.</span> How to postpone execution</h4>
<div class="outline-text-4" id="text-3-4-7">
<div class="org-src-container">
<pre class="src src-go">// postpone is time.Duration
time.Sleep(postpone)
</pre>
</div>
</div>
</div>

<div id="outline-container-org97af843" class="outline-4">
<h4 id="org97af843"><span class="section-number-4">3.4.8.</span> How to repeated do something with time.Duration</h4>
<div class="outline-text-4" id="text-3-4-8">
<div class="org-src-container">
<pre class="src src-go">// First setup a ticker
updateTicker := time.NewTicker(5 * time.Second)

go func() {
    // stop it using defer
    defer updateTicker.Stop()
    for {
	select{
	case&lt;-updateTicker.C:
	    //... doSomething 
	case&lt;-done:
	    // cancel the it by close done channel
	    return
	}
    }
}()
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org561814e" class="outline-3">
<h3 id="org561814e"><span class="section-number-3">3.5.</span> How to loop each attribute of struct</h3>
<div class="outline-text-3" id="text-3-5">
<p>
For example, we want to convert a struct into <code>[]string</code> such that it could be write into CSV files (<code>encoding/csv</code> need data to be <code>[]string</code>)<br>
</p>
<div class="org-src-container">
<pre class="src src-go">type LoadtestRecord struct {
  Id               int
  Timestamp        time.Time
  TesterName       string
  Guid             string
  Linetype         string
  OpenPartDuration time.Duration
  CompleteDuration time.Duration
  Text             string
  SinceBegin       time.Duration
}

func (l LoadtestRecord) toStrings() []string {
  v := reflect.ValueOf(l)
  typeOfS := v.Type()

  result := []string{}
  for i := 0; i &lt; v.NumField(); i++ {

    k := typeOfS.Field(i).Name
    v := v.Field(i).Interface()

    if k == "Timestamp" {
      result = append(result, formatTime(v.(time.Time)))
    } else if k == "OpenPartDuration" {
      result = append(result, fmt.Sprintf("%v", int64(v.(time.Duration)/time.Millisecond)))
    } else if k == "CompleteDuration" {
      result = append(result, fmt.Sprintf("%v", int64(v.(time.Duration)/time.Millisecond)))
    } else if k == "Id" || k == "SinceBegin" {
      continue
    } else {
      str := v.(string)
      result = append(result, removeLastStr(strings.TrimSpace(str), "\n"))
    }
  }

  return result
}
</pre>
</div>
<ul class="org-ul">
<li>Here, we define a method on the type <code>LoadtestRecord</code> such it we could convert subset of its attributes into <code>[]string</code> to save it into CSV file.<br></li>
</ul>
</div>
</div>

<div id="outline-container-org1909b05" class="outline-3">
<h3 id="org1909b05"><span class="section-number-3">3.6.</span> How to build command-line tools</h3>
<div class="outline-text-3" id="text-3-6">
<p>
So easy in Golang<br>
</p>
<div class="org-src-container">
<pre class="src src-go">var n, p, t int
var minNumOfEC2, maxNumOfEC2 int
var stackEnv, workerVersion, jsonFile string
// var setUTC bool
flag.IntVar(&amp;n, "n", 1, "number of testers to launch per path")
flag.IntVar(&amp;p, "p", 1, "how many patch")
flag.IntVar(&amp;t, "t", 5, "time interval(seconds) between patch")
flag.StringVar(&amp;stackEnv, "e", "dev", "stack stackEnv, for example: dev, preprod...etc")
flag.StringVar(&amp;workerVersion, "w", "Worker.3100", "the worker version used for tester, by default it will use Worker.3100")
flag.StringVar(&amp;jsonFile, "j", "input_clouddash_dev.json", "the json file contains the APIs used by tester, by default it will use input_clouddash_dev.json")
flag.BoolVar(&amp;setUTC, "utc", false, "time displayed in log will be using UTC by default, -utc=true to set timestamp in UTC")
flag.Parse()
</pre>
</div>
</div>
</div>

<div id="outline-container-org5c55795" class="outline-3">
<h3 id="org5c55795"><span class="section-number-3">3.7.</span> How to write unit test</h3>
<div class="outline-text-3" id="text-3-7">
<ul class="org-ul">
<li>ref: <a href="https://medium.com/@benbjohnson/structuring-tests-in-go-46ddee7a25c">Structuring Tests in Go</a><br></li>
<li>ref: <a href="https://medium.com/@matryer/5-simple-tips-and-tricks-for-writing-unit-tests-in-golang-619653f90742">5 simple tips and tricks for writing unit tests in #golang</a><br></li>
<li>ref: <a href="https://www.alexedwards.net/blog/interfaces-explained">Interface in Go</a><br></li>
<li>ref: <a href="https://aws.amazon.com/blogs/developer/mocking-out-then-aws-sdk-for-go-for-unit-testing/">Mocking Out the AWS SDK for Go for Unit Testing</a><br></li>
<li>Summary<br>
<ol class="org-ol">
<li>How to structure go test<br>
<ol class="org-ol">
<li>Put test code in the same package as target code.<br></li>
<li>Naming convention: if target code is <code>main.go</code>, then test code is <code>main_test.go</code><br></li>
</ol></li>
<li>How to use interface to mock dependencies during test.<br>
<ol class="org-ol">
<li>Ensure dependencies are passed as parameters of function(dependency injection makes function testable).<br></li>
<li>Identify the methods of dependency.<br></li>
<li>Create interface in which those dependent methods are defined.<br></li>
<li>Re-define function parameter as interface instead of concrate type.<br></li>
<li>In test code<br>
<ul class="org-ul">
<li>Define Mocking type<br></li>
<li>Make Mocking type implement the interface (those dependent methods).<br></li>
<li>The caller declares the Mocking type and pass it into target testing function.<br></li>
</ul></li>
</ol></li>
<li>What is the pattern when mock AWS SDK in go (in a function it calls methods from a Go SDK&rsquo;s Client)<br>
<ol class="org-ol">
<li><p>
Make testing function injectable: two approaches<br>
</p>
<ul class="org-ul">
<li>One is pass Client directly as parameter of the function.<br></li>
<li>Another is define a struct which contains that Client. Then, define function as method of such struct.<br></li>
</ul>
<p>
In anyway, we don&rsquo;t use concrate Client type, we use AWS&rsquo;s interface type.<br>
</p></li>
<li>Here, the steps of identify and create our own interface to hold those methods are ignored. Because AWS already defines those interfaces, we just need to import them and use.<br></li>
<li>In test code<br>
<ul class="org-ul">
<li>Define Mocking type<br></li>
<li>Make Mocking type implement the interface (those dependent methods).<br></li>
<li>Define testing cases as slice in which it contains different cases for input and expecting output<br></li>
<li>Use <code>for ... range</code> to loop those cases, in each of them:<br>
<ul class="org-ul">
<li>Initialize Mocking type with different input<br></li>
<li>Pass initialized Mocking type as parameter of testing function or as attribute of struct.<br></li>
<li>During the testing, the testing function is got executed which calls those dependent methods<br></li>
<li>That is OK, because Mocking type implements those method from interface.<br></li>
</ul></li>
</ul></li>
</ol></li>
</ol></li>
</ul>
</div>
</div>
</section>


<section id="outline-container-org0967dff" class="outline-2">
<h2 id="org0967dff"><span class="section-number-2">4.</span> Understand Reader and Writer interface</h2>
<div class="outline-text-2" id="text-4">
<p>
In Golang, io.Reader and Writer are interfaces, all methods related with I/O are just streams of bytes getting passed around.<br>
</p>
</div>

<div id="outline-container-orgea17a27" class="outline-3">
<h3 id="orgea17a27"><span class="section-number-3">4.1.</span> Understand interface</h3>
<div class="outline-text-3" id="text-4-1">
<p>
In Golang standard library, a lot of components are interfaces. For example<br>
</p>
<div class="org-src-container">
<pre class="src src-go">type Example struct {

}
func (e *Example) Write(p byte[]) (n int, err error) {

}
func (e *Example) Read(p byte[]) (n int, err error) {

}
</pre>
</div>
<ul class="org-ul">
<li>A interface will group none, or multiple functions.<br></li>
<li>A type implements those functions as methods satisfies that interface. <code>Example</code> implements Read/Write interface.<br></li>
<li>If we use type conversion, <code>Example</code> could be type of Reader &amp;&amp; Writer.<br></li>
</ul>
</div>
</div>

<div id="outline-container-orgc322720" class="outline-3">
<h3 id="orgc322720"><span class="section-number-3">4.2.</span> Io.Reader</h3>
<div class="outline-text-3" id="text-4-2">
<p>
For a type of function as a reader, it must implement method <code>Read(p []byte)</code> from interface <code>io.Reader</code>.<br>
</p>
<div class="org-src-container">
<pre class="src src-go">type Reader interface {
    Read(p []byte) (n int, err error)
}
</pre>
</div>
<ul class="org-ul">
<li><code>Read()</code> will read up to <code>len(p)</code> into <code>p</code>, when possible.<br></li>
<li>After a <code>Read()</code> call, <code>n</code> may be less then <code>len(p)</code>.<br></li>
<li>Upon error, <code>Read()</code> may still return <code>n</code> bytes in buffer <code>p</code>. For instance, when reading from a TCP socket that is abruptly closed. You may choose to keep the bytes in <code>p</code> or retry.<br></li>
</ul>
</div>
</div>

<div id="outline-container-orgf23accb" class="outline-3">
<h3 id="orgf23accb"><span class="section-number-3">4.3.</span> Io.Writer</h3>
</div>

<div id="outline-container-orgc1c819b" class="outline-3">
<h3 id="orgc1c819b"><span class="section-number-3">4.4.</span> Use pipe to switch from Writer to Reader</h3>
<div class="outline-text-3" id="text-4-4">
<p>
Sometimes a function&rsquo;s parameters only accept Writer, but we want a Reader. The solution is <code>io.Pipe()</code>.<br>
</p>
</div>
</div>

<div id="outline-container-org330b429" class="outline-3">
<h3 id="org330b429"><span class="section-number-3">4.5.</span> An implementation of <code>io.Reader</code> which filters out non-alphabetic characters from its stream.</h3>
<div class="outline-text-3" id="text-4-5">
<div class="org-src-container">
<pre class="src src-go">type alphaReader struct {
  src string
  cur int
}

func newAlphaReader(src string) *alphaReader {
  return &amp;alphaReader{src: src}
}

func alpha(r byte) byte {
  if (r &gt;= 'A' &amp;&amp; r &lt;= 'Z') || (r &gt;= 'a' &amp;&amp; r &lt;= 'z') {
    return r
  }
  return 0
}

func (a *alphaReader) Read(p []byte) (int, error) {
  if a.cur &gt;= len(a.src) {
    return 0, io.EOF
  }

  x := len(a.src) - a.cur
  n, bound := 0, 0
  if x &gt;= len(p) {
    bound = len(p)
  } else if x &lt;= len(p) {
    bound = x
  }

  buf := make([]byte, bound)
  for n &lt; bound {
    if char := alpha(a.src[a.cur]); char != 0 {
      buf[n] = char
    }
    n++
    a.cur++
  }
  copy(p, buf)
  return n, nil
}

func main() {
  reader := newAlphaReader("Hello! It's 9am, where is the sun?")
  p := make([]byte, 4)
  for {
    n, err := reader.Read(p)
    if err == io.EOF {
      break
    }
    fmt.Print(string(p[:n]))
  }
  fmt.Println()
}
</pre>
</div>
<ul class="org-ul">
<li><p>
Notice the display of <code>[]byte</code> as <code>string</code> in different terminal shows different result:<br>
</p>
<div class="org-src-container">
<pre class="src src-go">fmt.Println(string([]byte{111, 73})) // on terminal, it is displayed as oI
fmt.Println(string([]byte{111, 0, 0, 0, 0, 73})) // on terminal it is displayed as oI, but for some other terminal, it is displayed as o    I
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgf6fb81a" class="outline-3">
<h3 id="orgf6fb81a"><span class="section-number-3">4.6.</span> References</h3>
<div class="outline-text-3" id="text-4-6">
<ul class="org-ul">
<li><a href="https://nathanleclaire.com/blog/2014/07/19/demystifying-golangs-io-dot-reader-and-io-dot-writer-interfaces/">Demystifying Golang&rsquo;s io.Reader and io.Writer Interfaces</a> (about using pipe to switch writer for reader)<br></li>
<li><a href="https://medium.com/learning-the-go-programming-language/streaming-io-in-go-d93507931185">Streaming IO in Go</a> ()<br></li>
<li><a href="https://www.grant.pizza/blog/the-beauty-of-io-writer/">The Beauty of io.Writer</a><br></li>
<li><a href="https://ofstack.com/Golang/29055/talk-about-the-confusion-about-golang-io-reading-and-writing.html">Talk about the confusion about Golang IO reading and writing</a>    <br></li>
</ul>
</div>
</div>
</section>


<section id="outline-container-org8596ae1" class="outline-2">
<h2 id="org8596ae1"><span class="section-number-2">5.</span> Build code into executable binary file</h2>
<div class="outline-text-2" id="text-5">
<p>
While the <code>go run</code> command is a useful shortcut for compiling and running a program when you&rsquo;re making frequent changes, it doesn&rsquo;t generate a binary executable. (See: <a href="https://golang.org/doc/tutorial/compile-install">Compile and install the application</a>)<br>
</p>

<ol class="org-ol">
<li>ref: <a href="https://www.digitalocean.com/community/tutorials/how-to-build-go-executables-for-multiple-platforms-on-ubuntu-16-04">How To Build Go Executables for Multiple Platforms on Ubuntu 16.04</a><br></li>
<li><p>
create script<br>
</p>
<div class="org-src-container">
<pre class="src src-sh"><span class="org-comment-delimiter">#</span><span class="org-comment">!/usr/bin/</span><span class="org-keyword">env</span><span class="org-comment"> bash</span>
<span class="org-variable-name">package</span>=$<span class="org-variable-name">1</span>
<span class="org-keyword">if</span> [[ -z <span class="org-string">"$package"</span> ]]; <span class="org-keyword">then</span>
    <span class="org-builtin">echo</span> <span class="org-string">"usage: $0 &lt;package-name&gt;"</span>
    <span class="org-keyword">exit</span> 1
<span class="org-keyword">fi</span>
<span class="org-variable-name">package_split</span>=(${<span class="org-variable-name">package</span>//<span class="org-string">\/</span>/ })
<span class="org-variable-name">package_name</span>=${<span class="org-variable-name">package_split</span>[-1]}

<span class="org-variable-name">platforms</span>=(<span class="org-string">"windows/amd64"</span> <span class="org-string">"windows/386"</span> <span class="org-string">"linux/amd64"</span>)

<span class="org-keyword">for</span> platform<span class="org-keyword"> in</span> <span class="org-string">"${platforms[@]}"</span>
<span class="org-keyword">do</span>
    <span class="org-variable-name">platform_split</span>=(${<span class="org-variable-name">platform</span>//<span class="org-string">\/</span>/ })
    <span class="org-variable-name">GOOS</span>=${<span class="org-variable-name">platform_split</span>[0]}
    <span class="org-variable-name">GOARCH</span>=${<span class="org-variable-name">platform_split</span>[1]}
    <span class="org-variable-name">output_name</span>=$<span class="org-variable-name">package_name</span><span class="org-string">'-'</span>$<span class="org-variable-name">GOOS</span><span class="org-string">'-'</span>$<span class="org-variable-name">GOARCH</span>
    <span class="org-keyword">if</span> [ $<span class="org-variable-name">GOOS</span> = <span class="org-string">"windows"</span> ]; <span class="org-keyword">then</span>
        <span class="org-variable-name">output_name</span>+=<span class="org-string">'.exe'</span>
    <span class="org-keyword">fi</span>

    env <span class="org-variable-name">GOOS</span>=$<span class="org-variable-name">GOOS</span> <span class="org-variable-name">GOARCH</span>=$<span class="org-variable-name">GOARCH</span> go build -o $<span class="org-variable-name">output_name</span> $<span class="org-variable-name">package</span>
    <span class="org-keyword">if</span> [ $<span class="org-variable-name">?</span> -ne 0 ]; <span class="org-keyword">then</span>
        <span class="org-builtin">echo</span> <span class="org-string">'An error has occurred! Aborting the script execution...'</span>
        <span class="org-keyword">exit</span> 1
    <span class="org-keyword">fi</span>
<span class="org-keyword">done</span>
</pre>
</div></li>
<li><p>
Use the above script to build out loadtest file is just<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">./go-executable-build.sh main/mLoadTest.go
</pre>
</div>
<p>
It will generate the following files for the platforms we defined<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">mLoadTest.go-linux-amd64
mLoadTest.go-windows-386.exe
mLoadTest.go-windows-amd64.exe
</pre>
</div></li>
</ol>
</div>
</section>

<section id="outline-container-org7f417aa" class="outline-2">
<h2 id="org7f417aa"><span class="section-number-2">6.</span> Concurrency in Go</h2>
<div class="outline-text-2" id="text-6">
<p>
I choose go to do this loadtest job because of this. There are several common patterns.<br>
</p>
</div>
<div id="outline-container-org8a4bfe5" class="outline-3">
<h3 id="org8a4bfe5"><span class="section-number-3">6.1.</span> How to receive signal from event, such as Ctr-C</h3>
<div class="outline-text-3" id="text-6-1">
<div class="org-src-container">
<pre class="src src-go">interrupt := make(chan os.Signal, 1)
signal.Notify(interrupt, os.Interrupt)

done := make(chan interface{})

go func() {
    select {
    case &lt;-time.After(globalTimeoutLimit):
	fmt.Println("timeout globablly, cancel all")
	close(done)
    case &lt;-interrupt:
	// use interrupt to gracefully cancel all tester jobs
	fmt.Println("interrupt, cancel all")
	close(done)
    }
}()
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb745c8f" class="outline-3">
<h3 id="orgb745c8f"><span class="section-number-3">6.2.</span> From master spawn workers and cancel them when needed</h3>
<div class="outline-text-3" id="text-6-2">
<div class="org-src-container">
<pre class="src src-go">func observingEC2Instances(done &lt;-chan interface{}, stackEnv string, minNumOfEC2, maxNumOfEC2 *int) {
  // observing the changes of EC2
  observeEC2Ticker := time.NewTicker(10 * time.Second)
  fname := filepath.Join(logFolder, fmt.Sprintf("number-of-EC2-instance.txt"))
  f, _ := os.Create(fname)

  defer observeEC2Ticker.Stop()
  defer f.Close()
  fmt.Println("Observing number of EC2 instances")

  num := aws.GetNumOfEC2(fmt.Sprintf("ecs-%v", stackEnv))
  f.Write([]byte(fmt.Sprintf("NumEC2s\tTime\n")))

  tStr := formatTime(time.Now())
  f.Write([]byte(fmt.Sprintf("%v\t%v\n", num, tStr)))

  *minNumOfEC2 = num
  *maxNumOfEC2 = num
  for {
    select {
    case &lt;-done:
      return
    case &lt;-observeEC2Ticker.C:
      num = aws.GetNumOfEC2(fmt.Sprintf("ecs-%v", stackEnv))
      tStr = formatTime(time.Now())
      f.Write([]byte(fmt.Sprintf("%v\t%v\n", num, tStr)))
      if num &gt; *maxNumOfEC2 {
	*maxNumOfEC2 = num
      }
      if num &lt; *minNumOfEC2 {
	*minNumOfEC2 = num
      }
    }
  }
}
</pre>
</div>
<ul class="org-ul">
<li>We usually pass <code>done := make(chan interface{})</code> into each worker&rsquo;s goroutine.<br></li>
<li>Then in it, use <code>for...select</code> pattern to do cleanup operation once we receive messages from <code>done</code>.<br></li>
<li>Here, we could observe the number of EC2 instance with time interval and cancel it if we want in a goroutine.<br></li>
</ul>
</div>
</div>
</section>

<section id="outline-container-org53e502b" class="outline-2">
<h2 id="org53e502b"><span class="section-number-2">7.</span> Summary</h2>
<div class="outline-text-2" id="text-7">
<ul class="org-ul">
<li>The biggest thought about Golang is its standard library can do so many things. A lot of them need third party library in Javascript.<br></li>
<li>Its concurrency pattern is great, for a structure of tree shape concurrency, it is managable. But it soon becomes complicated if we want to form a net of goroutines. Erlang/Elixir is much better to compose complicated newtork of concurrency, especially if we want execute them across on different host.<br></li>
</ul>
</div>
</section>
</main>
<footer id="postamble" class="status">
<div class='footer'>
  Copyright Â© 2020 <a href='mailto:hyperion_z@outlook.com'>Zhao Wei.</a><br>
  Inspired by <a href='https://nicolas.petton.fr'>https://nicolas.petton.fr</a> <br>
  Last updated on Jun 16, 2022. Generated using <a href="https://www.gnu.org/software/emacs/">Emacs</a> 27.1 (<a href="https://orgmode.org">Org</a> mode 9.5.2).
</div>
</footer>
</body>
</html>
